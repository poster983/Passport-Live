{{>head}}
<!--
Passport-Live is a modern web app for schools that helps them manage passes.
    Copyright (C) 2017  Joseph Hassell

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

email: hi@josephhassell.com
-->
<body class="grey darken-4">
  <!-- Dropdown Structure -->
  <ul id="threeDot" class="dropdown-content">
    <li><a href="account.php">Account</a></li> 
    <li class="divider"></li>
    <li><a href="logout.php">Logout<i class="material-icons right">lock</i></a></li>
  </ul>
  <!-- Nav Bar-->
  <nav class="nav-extended">
    <div class="nav-wrapper">
      <a href="#" class="nav-left brand-logo">Teachers</a>
      <ul id="nav-mobile" class="right">
        <!--<li class="right"><a href="logout.php">Logout<i class="material-icons right">lock</i></a></li>-->
        <li><a id="threeDotButton" class="dropdown-button" href="#!" data-activates="threeDot">	&nbsp; &nbsp; &nbsp;	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<i class="material-icons left">more_vert</i> </a></li>
        <li><a href=""></a></li>
      </ul>
    </div>
    <div class="nav-content">
      <ul class="tabs tabs-transparent">
        <li class="tab"><a class="active" href="#studentsArriving">Students Arriving</a></li>
        <li class="tab"><a href="#studentsLeaving">Students Leaving</a></li>
        <li class="tab"><a href="#requestAStudent">Request a Student</a></li>
      </ul>
    </div>
  </nav>
  
    <nav>

    <div class="nav-wrapper theme-second">

      <form method="get" action="">
        <div class="input-field">
          <input  id="t-Search" name="teacherName" type="search" placeholder="Search by Email" value="{{account_email}}">
          <label class="label-icon" for="t-Search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>


          <button class="btn waves-effect waves-light" style="position: absolute; left: -9999px"  type="submit" name="search">Search
              <i class="material-icons right">search</i>
          </button>
        </div>
      </form>
    </div>
  </nav>
   




    <!--FEEDBACK FAB-->


    <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
        <a class="btn-floating btn-large tooltipped" data-position="left" data-delay="50" data-tooltip="Feedback">
            <i class="large material-icons">assignment</i>
        </a>
        <ul>
            <li><a class="btn-floating red modal-trigger tooltipped" data-position="left" data-delay="50" data-tooltip="Bug Report" href="#bugmodal"><i class="material-icons">report_problem</i></a></li>
            <li><a class="btn-floating yellow darken-1 modal-trigger tooltipped" data-position="left" data-delay="50" data-tooltip="Leave A Review" href="#reviewmodal"><i class="material-icons">thumbs_up_down</i></a></li>
            <li><a class="btn-floating green tooltipped" data-position="left" data-delay="50" data-tooltip="Wiki" href="https://poster983.gitbooks.io/passport-help/content/"><i class="material-icons">live_help</i></a></li>
            <li><a class="btn-floating blue tooltipped" data-position="left" data-delay="50" data-tooltip="Github" href="https://github.com/poster983/passport/"><i class="material-icons">code</i></a></li>
        </ul>
    </div>


  <!-- Bug Modal -->
  <div id="bugmodal" class="modal bottom-sheet">
    <div class="modal-content">
        <h4>Bug report</h4>
        <div class="row">
            <form class="col s12" method="post" action="">
                <div class="row">
                    <div class="input-field col s6"> <i class="material-icons prefix">account_circle</i>
                        <input id="bugname" name="bugname" required type="text" class="validate">
                        <label for="bugname">Name</label>
                    </div>
                    <div class="input-field col s6"> <i class="material-icons prefix">email</i>
                        <input id="bugemail" name="bugemail" required type="email" class="validate">
                        <label for="bugemail">Email</label>
                    </div>
                    <div class="input-field col s12"> <i class="material-icons prefix">comment</i>
                        <textarea id="bugtext" name="bugtext" required class="materialize-textarea" length="255"></textarea>
                        <label for="bugtext">Describe the bug or issue</label>
                    </div>
                    <h5 class="center">Bug Severity Slider</h5>
                    <p class="center">1 being low priority and 5 being high priority</p>
                        <p class="range-field">
                            <input type="range" id="bugseverity" name="bugseverity" min="1" max="5" value="3" />
                        </p>
                </div>
                <div class="modal-footer">

                    <button class="btn waves-effect waves-light modal-action modal-close" type="submit" name="submitbug">Submit Bug Report
                        <i class="material-icons right">send</i>
                    </button>
                </div>
            </form>
        </div>

    </div>

  </div>

  <!-- Review Modal -->
  <div id="reviewmodal" class="modal bottom-sheet">
  <div class="modal-content">
      <h4>Leave a review</h4>
      <div class="row">
          <form class="col s12" method="post" action="">
              <div class="row">
                  <div class="input-field col s6"> <i class="material-icons prefix">account_circle</i>
                      <input id="reviewname" name="reviewname" required type="text" class="validate">
                      <label for="reviewname">Name</label>
                  </div>
                  <div class="input-field col s6"> <i class="material-icons prefix">email</i>
                      <input id="reviewemail" name="reviewemail" required type="email" class="validate">
                      <label for="reviewemail">Email</label>
                  </div>
                  <div class="input-field col s12"> <i class="material-icons prefix">comment</i>
                      <textarea id="reviewtext" name="reviewtext" class="materialize-textarea" length="255"></textarea>
                      <label for="reviewtext">Comment</label>
                  </div>
                  <h5 class="center">Rating Slider</h5>

                      <p class="range-field">
                          <input type="range" id="rating" name="rating" min="1" max="10" value="5" />
                      </p>
              </div>
              <div class="modal-footer">

                  <button class="btn waves-effect waves-light modal-action modal-close" type="submit" name="submitreview">Submit Review
                      <i class="material-icons right">send</i>
                  </button>
              </div>
          </form>
      </div>

  </div>

  </div>

  <!--Complete Signup Model-->
  <div id="completeSignup" class="unclosable modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Let's set up your account!</h4>
      <p>First, </p>
      <div class="input-field col s12">
          <label for="timepicker">Time</label>
          <input id="timepicker" class="timepicker" type="time">
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</a>
    </div>
  </div>


  <!--Content-->
  <div class="container">
    <!-- Request a pass for students -->
    <!--Students Leaving-->
    <!--Tab-->
    <div id="studentsLeaving" class="col s12">
      <div class="section">
          <div class="row">
            <div class="col s12">
              <div id="studentsLeavingCard" class="card grey darken-3 hoverable">
                <div class="card-content white-text">
                  <span class="card-title">Students Leaving<sup>Beta</sup></span>
                  <div id="studentsLeavingReturn">

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div id="studentsArriving" class="col s12">
      <div class="section">
        <div class="row">
          <div class="col s12">
            <div id="studentsArrivingCard" class="card grey darken-3 hoverable">
              <div class="card-content white-text">
                <span class="card-title">Students Arriving</span>
                <div id="studentsArrivingReturn">
                
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="requestAStudent" class="col s12">
      <div class="section">
        <div class="row">
          <div class="col s12">
            <div id="requestAStudentCard" class="card grey darken-3 hoverable">
              <div class="card-content white-text">
                <span class="card-title">Request A Student</span>
                <div id="requestAStudentReturn">

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tap-target" data-activates="threeDotButton">
    <div class="tap-target-content">
      <h5>Title</h5>
      <p>A bunch of text</p>
    </div>
  </div>
          
  <footer class="page-footer grey darken-3">
<div class="footer-copyright">
  <div class="container">
      <a class="black-text left" href="https://www.josephhassell.com/">Copyright Â© 2016-2017 Joseph Hassell</a> &nbsp &nbsp
      <a class="black-text right" href="https://github.com/poster983/passport/blob/master/LICENSE">License </a> &nbsp &nbsp
      <a class="black-text right" href="https://poster983.github.io/passport/">Project Page &nbsp &nbsp</a>&nbsp &nbsp
  </div>
</div>
</footer>

<!-- Scripts -->
        <!--[if lte IE 8]><script src="assets/js/respond.min.js"></script><![endif]-->
  <script>
      if ('addEventListener' in window) {
          window.addEventListener('load', function () {
              document.body.className = document.body.className.replace(/\bis-loading\b/, '');
          });
          document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\.0)/) ? ' is-ie' : '');
      }
  </script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

  <!-- Compiled and minified JavaScript -->
  <script src="js/materialize.js"></script>
  <script src="js/passport.js"></script>
  <script src="js/materialize.clockpicker.js"></script>


<script>
$(document).ready(function(){
   $('.unclosable').modal({
    dismissible: false
   });
   $('.timepicker').pickatime({
      autoclose: false,
      twelvehour: true,
      darktheme: true,
      default: 'now',
      vibrate: true,
    });
  checkForUrlHash();
});

// Pass Avatar Button
  //hover Effect 
  


//Get Students Leaving
function getStudentsLeaving(teacher) {
  $('#studentsLeavingReturn').html("<div class=\"hCenter\">\r\n                <div class=\"preloader-wrapper big active\">\r\n                 <div class=\"spinner-layer spinner-blue\">\r\n                   <div class=\"circle-clipper left\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"gap-patch\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"circle-clipper right\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div>\r\n                 <\/div>\r\n\r\n                 <div class=\"spinner-layer spinner-red\">\r\n                   <div class=\"circle-clipper left\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"gap-patch\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"circle-clipper right\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div>\r\n                 <\/div>\r\n\r\n                 <div class=\"spinner-layer spinner-yellow\">\r\n                   <div class=\"circle-clipper left\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"gap-patch\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"circle-clipper right\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div>\r\n                 <\/div>\r\n\r\n                 <div class=\"spinner-layer spinner-green\">\r\n                   <div class=\"circle-clipper left\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"gap-patch\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div><div class=\"circle-clipper right\">\r\n                     <div class=\"circle\"><\/div>\r\n                   <\/div>\r\n                 <\/div>\r\n               <\/div>\r\n              <\/div> <br> <br> <h5 class='center'>Checking for Passes</h5>");
  $.ajax({
url: 'teacherAJAX/getStudentData.php',
data: {'whatToDo':"getStudentsLeaving",'teacher':teacher},
type: 'post',
success: function(data) {
  var returnPICS = PICS(data);
  if (returnPICS.result == false) {
    Materialize.toast(returnPICS.text, 15000);
  }
$('#studentsLeavingReturn').html(data.html);

},
error: function(xhr, desc, err) {
  console.warn("Passport Info Code System: Returned with code \"1001\"-AJAX Error");
  console.log(xhr);
  console.error("Details: " + desc + "\nError:" + err);
  console.warn(xhr.responseText)
  Materialize.toast("There was an error, check console.", 15000);
  $('#studentsLeavingReturn').html("");
}
})};

//Get Messages
function getMessages(){
  console.log("Remake message system");
}

function checkForUrlHash() {
  if(window.location.hash == "#completeSignupStart") {
    $('#completeSignup').modal('open');
  }
}

</script>
</body>

</html>