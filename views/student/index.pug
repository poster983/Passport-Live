extends layout
block content

  //
    style.
      .Xleft {
      position: absolute;
      display: inline-block;
      top: 30%;
      left: 50%;
      opacity: 1;
      width: 20px;
      height: 250px;
      transform: rotate(45deg);
      background-color: white;
      }
      .Xright {
      position: absolute;
      display: inline-block;
      top: 30%;
      left: 50%;
      opacity: 1;
      width: 20px;
      height: 250px;
      transform: rotate(-45deg);
      background-color: white;
      }
  // Loading Screen
  section#fullAjaxLoadingScreen.loadingScreen.loading
    .vCenter
      .passportLoader.box
        .dark-half
        img.logo(alt='Passport Is Loading', src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA4Ny42IDEwMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODcuNiAxMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRUQyMTI0O30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzguMiw0OS42bDAsMTkuNWMwLDAuOSwwLDkuNS0xMS45LDMuNWMtMTEuOS02LTUuMi0xMi44LTQuNC0xM2MtNy0yLjItMTMuNC04LjItMTguNS0xNC4zCgkJYy01LDExLDQsMjIuNyw0LjQsMjQuNGMxLjEtMS4yLDIuNy0xLDMuNy0wLjhjMTIuMSwxOC41LDI4LDE2LjMsMzIuMywyMS41YzQuMy01LjIsMjAuMi0zLDMyLjMtMjEuNWMxLTAuMiwyLjYtMC4zLDMuNywwLjgKCQljMC40LTEuNyw5LjQtMTMuNCw0LjQtMjQuNGMtNS4xLDYuMi0xMS41LDEyLjItMTguNSwxNC4zYzAuOCwwLjIsNy41LDctNC40LDEzYy0xMS45LDYtMTAuOS0yLjctMTAuOS0zLjVsMC0xOS41Ii8+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzguMiwxMC44YzMuNC0wLjUsOC4yLTEsMTUuMi0xYzYuNywwLDExLjUsMS4yLDE0LjcsMy43YzMuMiwyLjMsNS4zLDYuNCw1LjMsMTEuMWMwLDQuNy0xLjYsOC43LTQuNSwxMS40CgkJCWMtMy43LDMuMy05LjEsNC44LTE1LjQsNC44Yy0xLjIsMC0yLjMtMC4xLTMtMC4xdjE1LjZIMzguMlYxMC44eiBNNTAuNCwzMS4yYzAuNywwLjEsMS41LDAuMSwyLjgsMC4xYzQuOCwwLDcuOC0yLjUsNy44LTYuNAoJCQljMC0zLjQtMi4zLTUuOC03LTUuOGMtMS44LDAtMywwLjEtMy42LDAuM1YzMS4yeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=')
      h5.center.white-text Loading
      .hCenter
        .preloader-wrapper.big.active
          .spinner-layer.spinner-blue
            .circle-clipper.left
              .circle
            .gap-patch
              .circle
            .circle-clipper.right
              .circle
          .spinner-layer.spinner-red
            .circle-clipper.left
              .circle
            .gap-patch
              .circle
            .circle-clipper.right
              .circle
          .spinner-layer.spinner-yellow
            .circle-clipper.left
              .circle
            .gap-patch
              .circle
            .circle-clipper.right
              .circle
          .spinner-layer.spinner-green
            .circle-clipper.left
              .circle
            .gap-patch
              .circle
            .circle-clipper.right
              .circle
    // 342x470
  // Normal Page
  // Navbar
  nav#navBar
    .nav-wrapper
      // SideNav
      ul#slide-out.side-nav
        li
          .userView
            .background
              img(alt='Side-Nav Background', src='/passport/image/stunav.jpg')
            a(href='#!user')
              i.material-icons.md-48.md-light account_circle
            a(href='#!name')
              span.white-text.name Joseph Hassell
            a(href='#!email')
              span.white-text.email hi@josephhassell.com
        li
          a.waves-effect(href='#!') Home
        li
          a.waves-effect(href='students/account.php') Your Account
        li
          .divider
        // <li><a class="subheader">Subheader</a></li>
        li
          a.waves-effect(href='students/logout.php')
            | Logout
            i.material-icons.right lock_outline
      a.nav-sandwich.button-collapse.left-allign.show-on-large(href='#', data-activates='slide-out')
        i.material-icons menu
      a.brand-logo.center(href='#') Passport
      span.nav-right CURRENT VERSION OF PASSPORT HERE
  #confirmOver.overlay-full
    .overlay-content
      #checkmarkAnimationfull
      h1#ConfirmOverlayWords.center.white-text Pass Requested
      a.closebtn-overlay(href='javascript:void(0)', onclick="closeFullOverlay('confirmOver', 0)") Ã—
  // FEEDBACK FAB
  .fixed-action-btn(style='bottom: 45px; right: 24px;')
    a.btn-floating.btn-large.tooltipped(data-position='left', data-delay='50', data-tooltip='Feedback')
      i.large.material-icons assignment
    ul
      li
        a.btn-floating.red.modal-trigger.tooltipped(data-position='left', data-delay='50', data-tooltip='Bug Report', href='#bugmodal')
          i.material-icons report_problem
      li
        a.btn-floating.yellow.darken-1.modal-trigger.tooltipped(data-position='left', data-delay='50', data-tooltip='Leave A Review', href='#reviewmodaldis')
          i.material-icons thumbs_up_down
      li
        a.btn-floating.green.tooltipped(data-position='left', data-delay='50', data-tooltip='Wiki', href='https://poster983.gitbooks.io/passport-help/content/')
          i.material-icons live_help
      li
        a.btn-floating.blue.tooltipped(data-position='left', data-delay='50', data-tooltip='Github', href='https://github.com/poster983/passport/')
          i.material-icons code
  // Bug Modal
  #bugmodal.modal.bottom-sheet
    .modal-content
      h4 Bug report
      .row
        form.col.s12(method='post', action='')
          .row
            .input-field.col.s12
              i.material-icons.prefix comment
              textarea#bugtext.materialize-textarea(name='bugtext', required='')
              label(for='bugtext') Describe the bug or issue
            h5.center Bug Severity Slider
            p.center 1 being low priority and 5 being high priority
            p.range-field
              input#bugseverity(type='range', name='bugseverity', min='1', max='5', value='3')
          .modal-footer
            button.btn.waves-effect.waves-light.modal-action.modal-close(type='submit', name='submitbug')
              | Submit Bug Report
              i.material-icons.right send
  // Review Modal disclaimer
  #reviewmodaldis.modal
    .modal-content
      h4 Reminder
      p
        | A review should include helpful information. Reviews that are bias and/or spam will be ignored.
    .modal-footer
      a.modal-action.modal-close.modal-trigger.waves-effect.waves-green.btn-flat(href='#reviewmodal') I Agree
  // Review Modal
  #reviewmodal.modal.bottom-sheet
    .modal-content
      h4 Leave a review
      .row
        form.col.s12(method='post', action='')
          .row
            .input-field.col.s12
              i.material-icons.prefix comment
              textarea#reviewtext.materialize-textarea(name='reviewtext')
              label(for='reviewtext') Comment
            h5.center Rating Slider
            p.range-field
              input#rating(type='range', name='rating', min='1', max='10', value='5')
          .modal-footer
            button.btn.waves-effect.waves-light.modal-action.modal-close(type='submit', name='submitreview')
              | Submit Review
              i.material-icons.right send
  // System Message
  #ajaxAllStudentMess
  .container
    .section
      .row
        .col.s12
          #behindCard
          #PassCard.card.grey.darken-3.hoverable
            .card-content.white-text
              span.card-title Get A Pass
              form#passForm(method='post')
                #depDiv.input-field.col.s12
                  select#department.white-text.validate(name='department', required='', onchange="depToReasonAJAX(this.value, '<?php echo $_SESSION['period'] ?>');")
                    option(value='', disabled='', selected='') Choose A Department
                    option(value='LEC') Executive Functioning (LEC)
                    option(value='Math') Math Tutoring
                    option(value='Library') Library
                    option(value='Help Desk') Help Desk
                    option(value='Writing Lab') Writing Lab
                    option(value='Foreign Language') Foreign Language Tutoring
                    // NO LONGER USED <option value="Athletic Mentor">Athletic Mentor</option>
                  label Department
                #ReasonAJAX
                br
                // Advanced
                div
                  input#sao(type='checkbox')
                  label(for='sao') Show Advanced Options
                .divider
                #passrequestAdvanced(style='display: none;')
                  h5.center.white-text Advanced Options
                  .divider
                  p.center.white-text Nothing Here Yet.
                .section
                  a#submitPass.waves-effect.waves-light.btn-large.red(disabled='', onclick="submitPass(<?php echo $_SESSION['studentAccID'] ?>, 0);")
                    | Submit Pass
                    span#subPassAdv
                      i.material-icons.right send
                  span#debugSubmit
    // MyPasses
    .section
      .row
        .col.s12
          #MyPassesCard.card.grey.darken-3.hoverable
            .card-content.white-text
              span.card-title
                | My Passes
                sup Beta
              #myPassesReturn
  // Scripts
  //if lte IE 8
    script(src='assets/js/respond.min.js')
  script.
    if ('addEventListener' in window) {
    window.addEventListener('load', function () {
    document.body.className = document.body.className.replace(/\\bis-loading\b/, '');
    });
    document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\\.0)/) ? ' is-ie' : '');
    }
  script(type='text/javascript', src='https://code.jquery.com/jquery-2.1.1.min.js')
  // Compiled and minified JavaScript
  script(src='js/materialize.js')
  script(src='js/passport.js')
  // <script src="js/PICS.js"></script>
  script.
    $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
    $(".button-collapse").sideNav();
    $('.tooltipped').tooltip({delay: 50});
    $('select').material_select();
    $.when(AllStudentmessageAjaxAfterPageLoad(), checkDebugModeCookies(), getMyPasses()).done(function(a1, a2, a3){
    $('#fullAjaxLoadingScreen').removeClass("loading");
    });
    });
    function debugMode() {
    if (getCookie("debugMode") == "") {
    document.cookie = "debugMode=1";
    toggleDebugModeDOMElements(true);
    } else if (getCookie("debugMode") == 1){
    document.cookie = "debugMode=0";
    toggleDebugModeDOMElements(false);
    } else if (getCookie("debugMode") == 0){
    document.cookie = "debugMode=1";
    toggleDebugModeDOMElements(true);
    }
    }
    function checkDebugModeCookies() {
    if (getCookie("debugMode") == 1){
    toggleDebugModeDOMElements(true);
    }
    }
    function toggleDebugModeDOMElements(state) {
    if (state) {
      $('#debugSubmit').html("<a class='waves-effect waves-light btn-large red' id='debugSubmitPass' onclick=\"submitPass(<?php echo $_SESSION['studentAccID'] ?>, 1);\">Debug Submit Pass<span id='subPassAdv'><i class='material-icons right'>send</i></span></a>");
    } else {
    $('#debugSubmit').html("");
    }
    }
    $("#sao").change(function() {
    if(this.checked) {
    $('#passrequestAdvanced').show();
    $('#passrequestAdvanced').animateCss('bounceIn');
    $('#subPassAdv').html(" (Using Advanced Options) <i class='material-icons right'>error_outline</i>");
    } else {
    $('#passrequestAdvanced').animateCss('bounceOut');
    $('#passrequestAdvanced').one('webkitAnimationEnd oanimationend msAnimationEnd animationend',
    function(e) {
    $('#passrequestAdvanced').hide();
    $('#subPassAdv').html("<i class='material-icons right'>send</i>");
    });
    }
    });
